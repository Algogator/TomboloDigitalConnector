{
  "datasetSpecification" : {
    "subjectSpecification" : [
      {
        // This specifies that all subjects of type "trafficCounter" should be returned.
        "subjectType" : "trafficCounter"
      }
    ],
    "datasourceSpecification" : [
      {
        // Importer for geographies of all Local Authorities in the UK
        "importerClass" : "uk.org.tombolo.importer.ons.OaImporter",
        "datasourceId": "localAuthority"
      },
      {
        // Importer for London Borough Profiles
        "importerClass" : "uk.org.tombolo.importer.londondatastore.LondonBoroughProfileImporter",
        "datasourceId" : "londonBoroughProfiles"
      },
      {
        // Importer for DfT traffic counts in London
        "importerClass" : "uk.org.tombolo.importer.dft.TrafficCountImporter",
        "datasourceId" : "trafficCounts",
        "geographyScope" : ["London"]
      }
    ],
    "fieldSpecification" : [
      {
        // A field that assigns to each output geography (traffic counter) the population density value from the
        // Borough Profile of the borough (local authority) containing the traffic counter.
      "fieldClass": "uk.org.tombolo.field.aggregation.MapToContainingSubjectField",
        "label": "localAuthorityPopulationDensity",
        "containingSubjectType": "localAuthority",
        "fieldSpecification": {
          "fieldClass": "uk.org.tombolo.field.value.LatestValueField",
          "label": "populationDensity",
          "attribute": {
            "providerLabel": "uk.gov.london",
            "attributeLabel": "populationDensity"
          }
        }
      },
      {
        // The latest count of pedal cycles for that traffic counter
      "fieldClass": "uk.org.tombolo.field.value.LatestValueField",
        "label": "CountPedalCycles",
        "attribute": {
          "providerLabel" : "uk.gov.dft",
          "attributeLabel" : "CountPedalCycles"
        }
      }
    ]
  },
  "exporterClass" : "uk.org.tombolo.exporter.CSVExporter"
}